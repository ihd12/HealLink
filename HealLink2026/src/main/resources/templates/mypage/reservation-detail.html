<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>내 예약 상세 | HealLink</title>

    <!-- 공통 CSS -->
    <link rel="stylesheet" th:href="@{/css/global.css}">

    <!-- 헤더 / 푸터 CSS -->
    <link rel="stylesheet" th:href="@{/css/mainpage/header.css}">
    <link rel="stylesheet" th:href="@{/css/mainpage/footer.css}">

    <!-- 마이페이지 사이드바 및 공통 CSS -->
    <link rel="stylesheet" th:href="@{/css/mypage/sidebar.css}">

    <!-- 마이페이지 CSS -->
    <link rel="stylesheet" th:href="@{/css/mypage/reservation-detail.css}">

    <!-- FullCalendar 라이브러리 -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.20/index.global.min.js"></script>
</head>
<body>

<!-- 헤더 -->
<div th:replace="mainpage/header :: header"></div>

<main class="mypage-wrapper">

    <!-- 사이드바 -->
    <div th:replace="mypage/sidebar :: sidebar('reservation')"></div>

    <!-- 컨텐츠 영역 -->
    <section class="mypage-content">

        <div class="content-title-wrapper">
            <a th:href="@{/mypage}" class="back-arrow">
                ←
            </a>
            <h2 class="content-title">내 예약 상세</h2>
        </div>

        <!-- 예약 상세 카드 -->
        <div class="reservation-detail-card">

            <!-- 상단 : 캘린더 -->
            <div class="reservation-calendar">
                <div id="calendar"
                     th:data-date="${reservation.appointmentDate}">
                </div>
            </div>

            <!-- 예약 정보 -->
            <div class="reservation-info">

                <div class="reservation-hospital">
                    <strong th:text="${reservation.hospitalName}">병원명</strong>
                    <span>
                        <span th:text="${reservation.departmentName}">진료과명</span>
                        <span th:text="${reservation.doctorName}">의사명</span>
                    </span>
                </div>
                <div class="reservation-datetime">
                    <div class="date">
                        예약일 :
                        <span th:text="${reservation.appointmentDate}">2026-01-25</span>
                    </div>
                    <div class="time">
                        예약시간 :
                        <span th:text="${reservation.appointmentTime}">14:30</span>
                    </div>
                </div>

            </div>

            <!-- 하단 버튼 -->
            <div class="reservation-actions">
                <a th:href="@{/mypage/reservation/change/{id}(id=${reservation.appointmentId})}"
                   class="btn btn-change">
                    예약 변경
                </a>
                <a th:href="@{/mypage/reservation/cancel/{id}(id=${reservation.appointmentId})}"
                   class="btn btn-cancel">
                    예약 취소
                </a>
            </div>

        </div>

    </section>
</main>

<!-- 푸터 -->
<div th:replace="mainpage/footer :: footer"></div>

<!-- 예약 상세용 캘린더 -->
<script th:src="@{/js/mypage.js}"></script>

</body>
</html>

<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>λ‚΄ μμ•½ | HealLink</title>

    <!-- κ³µν†µ CSS -->
    <link rel="stylesheet" th:href="@{/css/global.css}">

    <!-- ν—¤λ” / ν‘Έν„° CSS -->
    <link rel="stylesheet" th:href="@{/css/mainpage/header.css}">
    <link rel="stylesheet" th:href="@{/css/mainpage/footer.css}">

    <!-- λ§μ΄νμ΄μ§€ μ‚¬μ΄λ“λ°” λ° κ³µν†µ CSS -->
    <link rel="stylesheet" th:href="@{/css/mypage/sidebar.css}">

    <!-- λ§μ΄νμ΄μ§€ CSS -->
    <link rel="stylesheet" th:href="@{/css/mypage/mypage.css}">
</head>
<body>

<div th:replace="mainpage/header :: header"></div>

<main class="mypage-wrapper">

    <div th:replace="mypage/sidebar :: sidebar('reservation')"></div>

    <!-- μ»¨ν…μΈ  μμ—­ -->
    <section class="mypage-content">

        <h2 class="content-title">λ‚΄ μμ•½</h2>

        <p class="empty-message" th:if="${reservations == null or #lists.isEmpty(reservations.content)}">
            μ•„μ§ μμ•½λ μ§„λ£κ°€ μ—†μµλ‹λ‹¤.
        </p>

        <!-- μμ•½ λ©λ΅ μΉ΄λ“ -->
        <div class="reservation-list">
            <div th:each="reservation : ${reservations.content}">
                <a th:href="@{/mypage/reservation/{appointmentId}(appointmentId=${reservation.appointmentId})}"
                   class="reservation-card">
                    <div class="reservation-info">
                        <span class="badge" th:text="${reservation.hospitalName.substring(0,1)}">A</span>
                        <div>
                            <strong th:text="${reservation.hospitalName}">λ³‘μ›λ…</strong><br>
                            <span th:text="${reservation.doctorName}">μμ‚¬λ…</span>
                        </div>
                    </div>
                    <div class="reservation-action">
                        π“…
                        <span th:text="${reservation.appointmentDate}"></span>
                        <span th:text="${reservation.appointmentTime}"></span>
                    </div>
                </a>
            </div>
        </div>

        <div class="pagination" th:if="${reservations.totalPages > 1}">

            <!-- μ΄μ „ -->
            <a th:if="${!reservations.first}"
               th:href="@{/mypage(page=${reservations.number - 1})}">
                μ΄μ „
            </a>

            <!-- νμ΄μ§€ λ²νΈ -->
            <a th:each="pageNum : ${#numbers.sequence(0, reservations.totalPages - 1)}"
               th:href="@{/mypage(page=${pageNum})}"
               th:text="${pageNum + 1}"
               th:classappend="${pageNum == reservations.number} ? 'current'">
            </a>

            <!-- λ‹¤μ -->
            <a th:if="${!reservations.last}"
               th:href="@{/mypage(page=${reservations.number + 1})}">
                λ‹¤μ
            </a>

        </div>

    </section>
</main>

</body>
</html>
